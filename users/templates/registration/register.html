{% extends 'base.html' %}

{% block content %}
<div class="container mt-5" style="max-width: 500px;">
    <h2 class="mb-4 text-center">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

    {% if form.errors %}
        <div class="alert alert-danger">
            <ul class="mb-0">
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <form method="post" novalidate>
        {% csrf_token %}
        
        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è -->
        <div class="mb-3">
            <label for="id_username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *</label>
            <input type="text" name="username" required class="form-control" id="id_username" 
                   value="{{ form.username.value|default:'' }}">
            {% if form.username.help_text %}
                <div class="form-text">{{ form.username.help_text }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label for="id_email" class="form-label">Email *</label>
            <input type="email" name="email" required class="form-control" id="id_email" 
                   value="{{ form.email.value|default:'' }}">
            {% if form.email.help_text %}
                <div class="form-text">{{ form.email.help_text }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label for="id_password1" class="form-label">–ü–∞—Ä–æ–ª—å *</label>
            <input type="password" name="password1" required class="form-control" id="id_password1">
            {% if form.password1.help_text %}
                <div class="form-text">{{ form.password1.help_text }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label for="id_password2" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è *</label>
            <input type="password" name="password2" required class="form-control" id="id_password2">
            {% if form.password2.help_text %}
                <div class="form-text">{{ form.password2.help_text }}</div>
            {% endif %}
        </div>

        <!-- Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è -->
        <div class="card mb-3">
            <div class="card-header">
                <h6 class="mb-0">üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</h6>
            </div>
            <div class="card-body">
                <p class="text-muted small mb-3">
                    –£–∫–∞–∂–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ Telegram –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –±–æ—Ç–æ–º. 
                    –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ —Å–∞–π—Ç–µ –∏ –≤ –±–æ—Ç–µ.
                </p>
                
                <div class="mb-3">
                    <label for="id_telegram_id" class="form-label">Telegram ID</label>
                    <input type="number" name="telegram_id" class="form-control" id="id_telegram_id" 
                           value="{{ form.telegram_id.value|default:'' }}" placeholder="123456789">
                    {% if form.telegram_id.help_text %}
                        <div class="form-text">{{ form.telegram_id.help_text }}</div>
                    {% endif %}
                </div>

                <div class="mb-3">
                    <label for="id_telegram_username" class="form-label">Telegram Username</label>
                    <input type="text" name="telegram_username" class="form-control" id="id_telegram_username" 
                           value="{{ form.telegram_username.value|default:'' }}" placeholder="username">
                    {% if form.telegram_username.help_text %}
                        <div class="form-text">{{ form.telegram_username.help_text }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="d-grid">
            <button type="submit" class="btn btn-success">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </div>
    </form>

    <div class="mt-3 text-center">
        <span class="text-muted">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?</span>
        <a href="{% url 'login' %}" class="btn btn-link">–í–æ–π—Ç–∏</a>
    </div>
</div>
{% endblock %} 