{% extends "base.html" %}
{% block content %}
  <h2>–ö–∞—Ä—Ç–æ—á–Ω—ã–π —Ä–µ–∂–∏–º</h2>

  {% if message %}
    <p>{{ message }}</p>
  {% else %}
    <div class="card p-3 mb-3">
      <h3>{{ card.word }}</h3>
      <p><em>{{ card.translation }}</em></p>
      <button class="btn btn-outline-secondary mb-2" onclick="playTTS('{{ card.word|urlencode }}')">üîä –û–∑–≤—É—á–∏—Ç—å</button>
      <audio id="tts-audio" src="" style="display:none;"></audio>
      <script>
        function playTTS(word) {
          const audio = document.getElementById('tts-audio');
          audio.src = '/tts/' + word + '/';
          audio.style.display = 'block';
          audio.play();
        }
      </script>
      {% if card.example %}
        <p><strong>–ü—Ä–∏–º–µ—Ä:</strong> {{ card.example }}</p>
      {% endif %}
      {% if card.note %}
        <p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> {{ card.note }}</p>
      {% endif %}
      <p><small>–£—Ä–æ–≤–µ–Ω—å: {{ card.get_level_display }}</small></p>
    </div>

    <div class="d-flex justify-content-between mb-3">
      {% if prev_card_id %}
        <a href="{% url 'words:card_mode' %}?card_id={{ prev_card_id }}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</a>
      {% else %}
        <button class="btn btn-secondary" disabled>‚Üê –ù–∞–∑–∞–¥</button>
      {% endif %}

      <span>–ö–∞—Ä—Ç–æ—á–∫–∞ {{ current_index }} –∏–∑ {{ total }}</span>

      {% if next_card_id %}
        <a href="{% url 'words:card_mode' %}?card_id={{ next_card_id }}" class="btn btn-secondary">–í–ø–µ—Ä–µ–¥ ‚Üí</a>
      {% else %}
        <button class="btn btn-secondary" disabled>–í–ø–µ—Ä–µ–¥ ‚Üí</button>
      {% endif %}
    </div>
  {% endif %}

  <a href="{% url 'words:index' %}" class="btn btn-primary">–°–ø–∏—Å–æ–∫ —Å–ª–æ–≤</a>

{% endblock %}
