{% extends "base.html" %}
{% load static %}
{% block content %}
<h1 class="fw-bold mb-4">Повторение слова</h1>
<div class="card mb-3 d-flex flex-row align-items-center card-word-row">
    <!-- Цветная полоска уровня -->
    <div class="level-bar me-3 {{ card.level }}"></div>
    <div class="flex-grow-1">
        <h4 class="card-title mb-1">{{ card.word }}</h4>
        <p class="card-text mb-2"><strong>Перевод:</strong> {{ card.translation }}</p>
        <!-- Кнопка озвучивания только иконка -->
        <button class="btn btn-icon mb-2" onclick="playTTS('{{ card.word|urlencode }}')" title="Озвучить">
          <i class="bi bi-volume-up"></i>
        </button>
        <audio id="tts-audio" src="" style="display:none;"></audio>
        <script>
          function playTTS(word) {
            const audio = document.getElementById('tts-audio');
            audio.src = '/tts/' + word + '/';
            audio.style.display = 'block';
            audio.play();
          }
        </script>
    </div>
</div>
<p>Как хорошо вы запомнили это слово?</p>
<form method="post">
  {% csrf_token %}
  <div class="btn-group mb-3" role="group">
      {% for grade in "012345" %}
          <button type="submit" name="grade" value="{{ grade }}" class="btn btn-outline-primary">{{ grade }}</button>
      {% endfor %}
  </div>
</form>
<!-- Кнопка назад -->
<a href="{% url 'words:review_today' %}" class="btn btn-icon btn-outline-primary" title="Назад к списку на повторение">
  <i class="bi bi-arrow-left"></i>
</a>
{% endblock %}
